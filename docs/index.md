# azure_image_builder

azure_image_builder is a tool that can be ran as part of a build system or manually from a workstation running Windows, Linux or a Mac. 

## Running azure_image_builder

There are several ways of running azure_image_builder. Typically, a user will have [.NET Core SDK 2.1](https://www.microsoft.com/net/download) or [.NET Core Runtime 2.1](https://www.microsoft.com/net/download) installed. With the runtime installed, you can invoke the command using the [dotnet](https://docs.microsoft.com/en-us/dotnet/core/tools/?tabs=netcore2x) tool.

```
dotnet azure_image_builder.dll
```

azure_image_builder is also packaged as a self contained application, which allows you to download binaries specific for your operating system. On Unix like operating systems, like Linux or macOS, you can run the command as follows:

```
./azure_image_builder
```

On Windows, you can run the tool as follows:

```
.\azure_image_builder
```

## Getting Help

Running azure_image_builder without parameters will display usage information.

```
dotnet azure_image_builder
```

azure_image_builder will not only provide you with commands, but also how to get additional help.

```
azure_image_builder 1.0.0.0

Usage: azure_image_builder [options] [command]

Options:
  --version  Show version information

Commands:
  execute  Searches for snowflakes in the sun
  help     Shows help for a command

Run 'azure_image_builder help [command]' for more information on a command.
```

## Getting Help for a Command

If you'd like to know more about a command, you can pass the name of the command in question as part of the help command:

```
dotnet azure_image_builder help execute
```

Given the above command, azure_image_builder will display will display the options users can pass to the tool.

```
azure_image_builder 1.0.0.0

Usage: azure_image_builder execute [options]

Options:
  -l|--verbosity      Specifies the verbosity, for example Trace, Debug, Information, Warning, Error, Critical, or None
  -v|--vault          Specifies the vault where configuration are stored
  -c|--client-id      Specifies the client id to access the vault
  -p|--client-secret  Specifies the client secret to access the vault

```

## Logging

In order to manage the verbosity of the output generated by azure_image_builder, you can specify `--verbosity`. If none is specified, it will be set to information. For example, you can specify that you'd like to see debug messages, you can run the command as follows: 

```
dotnet azure_image_builder execute --verbosity debug
```

You can also use the abbreviated option name:

```
dotnet azure_image_builder execute -l debug
```

## Commands

To learn more about the commands:

* [azure_image_builder](commands/azure_image_builder.md)
* [azure_image_builder execute](commands/azure_image_builder-execute.md)
